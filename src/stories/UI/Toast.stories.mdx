import { Meta, Canvas, Story, Preview, Props } from "@storybook/addon-docs";
import { Toast } from "../../indexLib";
import { ArgsTable, Source } from "@storybook/addon-docs";
import dedent from "ts-dedent";
import {
  ToastProviderDefault,
  ToastProviderPriority,
  ToastProviderActionLabel,
  ToastProviderAutoDismiss,
  ToastProviderCloseOnAction,
} from "./Toast.examples";

<Meta title="Navigation/Toast" component={Toast} />

# Toast

<Source
  language="tsx"
  code={dedent`
    import { ToastProvider, ToastRegion, Toast } from "@actionishope/shelley";
  `}
/>

Toast is used for displaying a short message to the user. It is a non-modal, time-based notification that appears in the bottom right corner or bottom center of the screen. Toasts are used to provide feedback on an action that the user has taken, such as saving a file or sending a message.

## Default Toast

This example displays the most basic/default toast with no priority or auto-dismissal or action button.

<Preview>
  <Story
    name="a) Default Toast"
    args={{}}
    parameters={{
      docs: {
        source: {
          code: dedent`
    <ToastProvider>
      {(state) => (
        <>
          <Button
            onClick={() => state.add("New toast")}
            style={{ margin: "16px" }}
          >
            Add toast!
          </Button>
        </>
      )}
    </ToastProvider>`,
        },
      },
    }}
  >
    <ToastProviderDefault />
  </Story>
</Preview>

<Source language="tsx" id="data-toast--a-default-toast" />

## Toasts with Priority

This example displays adding toasts with different priorities.
An error might be a high priority, a warning a medium priority and success a low priority.
The default priority is 0 and can be 0, 1, 2 or 3.
The higher the number the higher the priority.
Toasts with higher priority will be displayed first.

<Preview>
  <Story
    name="b) Toast Priority"
    args={{}}
    parameters={{
      docs: {
        source: {
          code: dedent`
    <ToastProvider>
      {(state) => (
        <>
          <Button
            onClick={() => state.add("Toasting...! (1)", { priority: 1 })}
            style={{ margin: "16px" }}
          >
            Low priority(1) - info or success
          </Button>
          <Button
            onClick={() => state.add("Toast is done! (2)", { priority: 2 })}
            style={{ margin: "16px" }}
          >
            Medium priority(2) - warning
          </Button>
          <Button
            onClick={() => state.add("Toast is burnt! (3)", { priority: 3 })}
            style={{ margin: "16px" }}
          >
            High priority(3) - error
          </Button>
        </>
      )}
    </ToastProvider>`,
        },
      },
    }}
  >
    <ToastProviderPriority />
  </Story>
</Preview>

<Source language="tsx" id="data-toast--b-toast-priority" />

## Toast with Action Button

This example displays adding toasts with action buttons.
Action buttons can be used to provide the user with a way to interact with the toast.
For example, if the toast is displaying an error, the action button could be used to provide a way to fix the error.
The action button has the option to close the toast when clicked besides performing the action.

<Preview>
  <Story
    name="c) Toast Action Buttons"
    args={{}}
    parameters={{
      docs: {
        source: {
          code: dedent`
    <ToastProvider>
      {(state) => {
        return (
          <>
            <Button
              onClick={() =>
                state.add(
                  {
                    title: "Bread can be toasted.",
                    actionLabel: "Got it",
                    shouldCloseOnAction: true,
                    onAction: () => console.log("Action was clicked!"),
                  },
                  { priority: 0 }
                )
              }
              style={{ margin: "16px" }}
            >
              No priority - info
            </Button>
            <Button
              onClick={() =>
                state.add(
                  {
                    title: "Toasting...! (1)",
                    actionLabel: "Thanks",
                    shouldCloseOnAction: true,
                    onAction: () => console.log("Action was clicked!"),
                  },
                  { priority: 1 }
                )
              }
              style={{ margin: "16px" }}
            >
              Low priority(1) - success
            </Button>
            <Button
              onClick={() =>
                state.add(
                  {
                    title: "Toast is done! (2)",
                    actionLabel: "Check",
                    shouldCloseOnAction: true,
                    onAction: () => console.log("Action was clicked!"),
                  },
                  { priority: 2 }
                )
              }
              style={{ margin: "16px" }}
            >
              Medium priority(2) - warning
            </Button>
            <Button
              onClick={() =>
                state.add(
                  {
                    title: "Toast is burnt! (3)",
                    actionLabel: "Fix",
                    shouldCloseOnAction: true,
                    onAction: () => console.log("Action was clicked!"),
                  },
                  { priority: 3 }
                )
              }
              style={{ margin: "16px" }}
            >
              High priority(3) - error
            </Button>
          </>
        );
      }}
    </ToastProvider>`,
        },
      },
    }}
  >
    <ToastProviderActionLabel />
  </Story>
</Preview>

<Source language="tsx" id="data-toast--c-toast-action-button" />

## Toast with Auto Dismissal

This example displays adding toasts with auto-dismissal.
Auto-dismissal is used to automatically close the toast after a certain amount of time.

<Preview>
  <Story
    name="d) Auto Dismiss"
    args={{}}
    parameters={{
      docs: {
        source: {
          code: dedent`
    <ToastProvider>
      {(state) => (
        <>
          <Button
            onClick={() =>
              state.add(
                { title: "Disappears in 3.5 seconds" },
                { timeout: 3500 }
              )
            }
            style={{ margin: "16px" }}
          >
            Add toast!
          </Button>
        </>
      )}
    </ToastProvider>`,
        },
      },
    }}
  >
    <ToastProviderAutoDismiss />
  </Story>
</Preview>

<Source language="tsx" id="data-toast--d--toast-auto-dismissal" />

## Toast with Action button that closes the toast

This example displays a toast which closes when the action button is clicked.
The action button has the option to close the toast when clicked besides performing the action.

<Preview>
  <Story
    name="e) Close on Action"
    args={{}}
    parameters={{
      docs: {
        source: {
          code: dedent`
    <ToastProvider>
      {(state) => (
        <>
          <Button
            onClick={() =>
              state.add({
                title: "Should close on action",
                actionLabel: "Action",
                shouldCloseOnAction: true,
                onAction: () => console.log("Action was clicked!"),
              })
            }
            style={{ margin: "16px" }}
          >
            Add toast!
          </Button>
        </>
      )}
    </ToastProvider>`,
        },
      },
    }}
  >
    <ToastProviderCloseOnAction />
  </Story>
</Preview>

<Source language="tsx" id="data-toast--e-toast-close-on-action" />

### Features

- Toasts are non-modal, meaning that they do not block the user from interacting with the rest of the page.

## Usage

The following examples show how to use the Toast component created in the above example.

### Toast success

Toast is amazing. Find out more: https://spectrum.adobe.com/page/toast/

### Keyboard Activation

Space, Tab, ESC
